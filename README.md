# üìö Book Rental Service (Spring Boot)

–ü—Ä–æ—Å—Ç–æ–µ RESTful-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–Ω–∏–≥–∏, –∞–≤—Ç–æ—Ä–æ–≤, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –∫–Ω–∏–≥–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Bearer —Ç–æ–∫–µ–Ω–æ–≤.

## üõ† –°—Ç–µ–∫

- Java 21
- Spring Boot 3.5.3
- Gradle
- PostgreSQL (TODO) (–∏–ª–∏ in-memory-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ dev-–ø—Ä–æ—Ñ–∏–ª–µ)
- Swagger / OpenAPI
- JUnit + RestAssured
- Lombok

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
–°–ª–æ–∏:

- **Controller** ‚Äî –ø—Ä–∏—ë–º –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- **Exception** - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
- **DTO / Entity / Mapper** ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Repository** ‚Äî –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º (in-memory –∏–ª–∏ PostgreSQL)
- **Service** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

–°–ª–æ–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –ø–∞–∫–µ—Ç–∞–º –∏ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é.

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
#### ‚≠ê Author - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º –∞–≤—Ç–æ—Ä–æ–≤ –∫–Ω–∏–≥
<details>
<summary>üì° GET /author - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–æ–∫ –∏–º–µ—é—â–∏—Ö—Å—è –∞–≤—Ç–æ—Ä–æ–≤ –∫–Ω–∏–≥ (–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)</summary>

–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
```
[
  {
    "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "authorName": "string"
  }
]
```
</details>

<details>
<summary>üì° POST /author –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ—Ä–∞ –∫–Ω–∏–≥–∏ (–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)</summary>

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞ (Bearer –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è):
```
Authorization: Bearer your_token
```
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```
{
  "authorName": "string"
}
```
–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
```
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "authorName": "string"
}
```
</details>

#### ‚≠ê Book - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º –Ω–∞–∑–≤–∞–Ω–∏–π –∫–Ω–∏–≥
<details>
<summary>üì° GET /book –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–æ–∫ –∏–º–µ—é—â–∏—Ö—Å—è –∫–Ω–∏–≥ (–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)</summary>

–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
```
[
  {
    "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "authorId": "3fa85f64-5717-4562-b3fc-2c963f66afa6", (TODO: –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –∞–≤—Ç–æ—Ä–∞)
    "bookName": "string"
  }
]
```
</details>

<details>
<summary>üì° POST /book –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É –≤ –∫–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥ (–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)</summary>

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞ (Bearer –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è):
```
Authorization: Bearer your_token
```
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```
{
  "authorId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "bookName": "string"
}
```
–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
```
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "authorId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "bookName": "string"
}
```
</details>

#### ‚≠ê BookShelf - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–Ω–∏–∂–Ω–æ–π –ø–æ–ª–∫–æ–π
<details>
<summary>üì° POST /bookshelf/addToBookShelf - –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É (–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)</summary>

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞ (Bearer –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è):
```
Authorization: Bearer your_token
```
–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```
{
  "bookId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```
–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
```
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "bookId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "rentedByUserId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```
</details>

#### ‚≠ê User - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
<details>
<summary>üì° POST /user/register - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</summary>

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: 
```
{
  "userName": "string",
  "password": "string",
  "age": 0 (TODO: –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è)
}
```
–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
```
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "userName": "string",
  "age": 0
}
```

</details>

<details>
<summary>üì° POST /user/getToken - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</summary>

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```
{
  "userName": "string",
  "password": "string"
}
```
–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
```
{
  "token": "string"
}
```
</details>

<details>
<summary>üì° GET /user/userInfo - –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</summary>

–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞ (Bearer –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è):
```
Authorization: Bearer your_token
```
–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
```
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "userName": "string",
  "age": 0
}
```
</details>

## üóÉ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
authors (id, name)\
books (id, title, authorId)\
bookshelf (id, bookId, rentedByUserId)\
users (id, username, password, age)\
userTokens (id, userId, token)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã **–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ä–∞–±–æ—Ç—É REST API —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—å–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã.

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:

- **RestAssured** ‚Äî –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
- **Java Faker** ‚Äî –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ —Ç–µ—Å—Ç—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –ø–∞–ø–∫–µ `src/test/java`.

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç ```https://github.com/sergey-dubinin-work/qaguru_basic_homeTask_custom_Spring_API_Service_BookLibrary.git```
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å ```./gradlew bootRun```
3. Swagger –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: ```http://localhost:8081/swagger-ui/index.html```

## TODO (–ø–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ):
1. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π (Author, Book)
2. –í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∫–Ω–∏–≥, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±–µ—Ä—ë—Ç—Å—è –≤ –∞—Ä–µ–Ω–¥—É –æ—Ç–¥–µ–ª—å–Ω–æ
3. –ù–∞–π—Ç–∏ –≤—Å–µ –∫–Ω–∏–≥–∏ –ø–æ –∞–≤—Ç–æ—Ä—É
4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–Ω–∏–≥
5. –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (PostgreSql)
6. –®–∏—Ñ—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏
7. –î–æ–±–∞–≤–∏—Ç—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞